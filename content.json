{"pages":[{"title":"About","date":"2018-07-28T10:53:32.616Z","path":"about/index.html","text":"ä½œè€…ä»‹ç» åº§å³é“­ï¼šäººç”Ÿè‹¦çŸ­ï¼Œçæƒœæ—¶é—´ å…´è¶£çˆ±å¥½ï¼š è®¡ç®—æœºã€æ‘„å½±ã€æ—…æ¸¸ã€ç¾é£Ÿ å·¥ä½œçŠ¶æ€ï¼š å°±ä¸šä¸­ å…³æ³¨é¢†åŸŸï¼š WEBå¼€å‘ï¼Œå¤§æ•°æ®ï¼Œæœºå™¨å­¦ä¹ ï¼Œæ¶æ„è¿ç»´ GETæŠ€èƒ½ å‰ç«¯ï¼š JavaScriptã€Html5ã€VueJs Pythonï¼šFlaskæ¡†æ¶ï¼Œæ ‡å‡†åº“ Linuxï¼š Shellè„šæœ¬ï¼Œcommand å¤§æ•°æ®ï¼šKafkaã€Zookeeperã€Hbaseã€HDFSã€Elasticsearchã€Mongodb FQA å¹³å¸¸å­¦ä¹ éƒ½æ¯”è¾ƒé›¶æ•£ï¼Œåˆšå¥½ç”¨åšå®¢åšä¸€ä¸‹è®°å½• ä¸å®šæ—¶æ›´æ–°ï¼Œæƒ³åˆ°å°±å†™ç‚¹å§~"},{"title":"Categories","date":"2018-07-28T02:53:57.789Z","path":"categories/index.html","text":""},{"title":"Tags","date":"2018-07-28T02:53:57.792Z","path":"tags/index.html","text":""}],"posts":[{"title":"vsftpçš„ä¸€ä¸ªé—®é¢˜","date":"2018-10-30T16:00:00.000Z","path":"wiki/vsftpçš„ä¸€ä¸ªé—®é¢˜/","text":"ä½¿ç”¨pasvæ¨¡å¼çš„æ—¶å€™ä¸èƒ½æ‰“å¼€portæ¨¡å¼çš„å¼€å…³ï¼Œå³pasv_enable=YES port_enable=NOï¼Œå¦åˆ™å°±ç®—è®¾ç½®äº†pasv_min_portå’Œpasv_max_portä¹Ÿä¸èµ·ä½œç”¨ã€‚ä»Šå¤©åœ¨å¼€å¯é˜²ç«å¢™çš„æ—¶å€™å‘ç°æ€ä¹ˆéƒ½è¿ä¸ä¸Šï¼ŒåŸæ¥æ˜¯æ•°æ®ä¼ è¾“çš„æ—¶å€™ç«¯å£å¹¶ä¸æ˜¯é¢„è®¾çš„ç«¯å£èŒƒå›´ï¼Œå¯¼è‡´å‘äº†synè¢«é˜²ç«å¢™ä¸¢å¼ƒäº†ã€‚ å¯ç”¨TLS,ç›´æ¥ä¿®æ”¹vsftpd.confï¼Œæ·»åŠ å¦‚ä¸‹123456789101112#å¯ç”¨åŠ å¯†ssl_enable=YES#ä½¿ç”¨ TSL v1 åŠ å¯†åè®®ssl_tlsv1=YES#ä½¿ç”¨eofæ ‡å¿—è¡¨ç¤ºä¸Šä¼ å®Œæˆstrict_ssl_read_eof=YES#è¯ä¹¦è·¯å¾„rsa_cert_file=/etc/letsencrypt/live/itnmg.net/fullchain.pem#è¯ä¹¦ç§é’¥è·¯å¾„rsa_private_key_file=/etc/letsencrypt/live/itnmg.net/privkey.pem#æŒ‡å®šåŠ å¯†ç®—æ³•, å¦‚æœä¸æŒ‡å®š, é»˜è®¤ä¸º DES-CBC3-SHAssl_ciphers=ECDHE-RSA-AES128-GCM-SHA256","tags":[{"name":"vsftp","slug":"vsftp","permalink":"http://finsos.github.io/tags/vsftp/"}],"categories":[{"name":"è¿ç»´è®°å½•","slug":"è¿ç»´è®°å½•","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/"},{"name":"FTP","slug":"è¿ç»´è®°å½•/FTP","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/FTP/"}]},{"title":"GITè½»é‡çº§ç®¡ç†æœåŠ¡æ­å»º","date":"2018-10-30T16:00:00.000Z","path":"wiki/gitè½»é‡çº§ç®¡ç†æœåŠ¡æ­å»º/","text":"ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS release 6.4 (Final)ç³»ç»Ÿé…ç½®ï¼šCPU2æ ¸ å†…å­˜2G ç¡¬ç›˜15G æœ‰gitçš„éœ€æ±‚ï¼Œä½†æ˜¯åˆè§‰å¾—gitlabå¤ªé‡è€—èµ„æºï¼Œäºæ˜¯å†³å®šæ‰¾ä¸ªè½»é‡çº§çš„gitå¸¦webæ¥ç®¡ç†ï¼Œæ‰¾æ¥æ‰¾å»æäº†ä¼šå„¿cgitï¼Œä½†æ˜¯ä¸å¸¦æƒé™æ§åˆ¶è¯­æ³•é«˜äº®ä¹Ÿä¸æ˜¯æˆ‘å–œæ¬¢çš„ï¼Œæ‰€æœ‰æ”¾å¼ƒã€‚åé¢åˆ©ç”¨äº†gitï¼Œgitoliteï¼Œgitwebä¸‰å‰‘å®¢+nginxæ­å»ºäº†ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢çš„æ–‡æ¡£ã€‚ å®‰è£…git è¿™ä¸ªä¸ç”¨å¤šè¯´å¤§å®¶éƒ½ä¼š12# ç›´æ¥yumè£…äº†yum -y install git æ³¨æ„ï¼š1.7ç‰ˆæœ¬ä¸æ”¯æŒè¯­æ³•é«˜äº®ï¼Œå»ºè®®å‡çº§åˆ°2.+ æ¥ä¸Šé¢ï¼Œå¥½å§ï¼Œè¿™é‡Œå†æ¬¡è¸©å‘äº†ï¼centosä»“åº“è‡ªå¸¦çš„ç‰ˆæœ¬ä¸º1.7,å› æ­¤æˆ‘ä»¬è¦å‡çº§åˆ°2.+ï¼Œè¿™é‡Œä½¿ç”¨ç¼–è¯‘å®‰è£…ï¼š12345678910111213# å®‰è£…ä¾èµ–yum install -y zlib-devel bzip2-devel openssl-devel ncurses-devel gcc perl-ExtUtils-MakeMaker package# ä¸‹è½½æºç åŒ…ï¼Œè¿™é‡Œæœ€æ–°2.18wget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.18.0.tar.gz# è§£å‹tar -zxvf git-2.18.0.tar.gz &amp;&amp; cd git-2.18.0# ç¼–è¯‘å®‰è£…./configure --prefix=/usr/local/git allmakemake install# åŠ ç¯å¢ƒå˜é‡echo &quot;export PATH=$PATH:/usr/local/git/bin&quot; &gt; /etc/profile.d/git.shsource /etc/profile.d/git.sh å®‰è£…gitoliteå®˜æ–¹çš„å®‰è£…ä»‹ç»ï¼Œå¾ˆç®€å• gitæœåŠ¡å™¨ç«¯æ“ä½œ åˆ‡æ¢åˆ°gitç”¨æˆ·ç›®å½•ä¸‹å»æ“ä½œsu - gitmkdir -p ~/bin å…‹éš†ä»“åº“git clone https://github.com/sitaramc/gitolite å®‰è£…è¿™æ—¶ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆrepositoriesç›®å½•ï¼Œå…¶ä¸­gitolite-admin.gitå°±æ˜¯æˆ‘ä»¬ä¸»è¦çš„æƒé™ç®¡ç†ä»“åº“gitolite/install -ln ~/bin åˆå§‹ç”¨æˆ·è¿™é‡Œå› ä¸ºæ˜¯åˆå§‹ç¬¬ä¸€ä¸ªç”¨æˆ·ï¼Œæ‰€ä»¥æ˜¯ç®¡ç†å‘˜ï¼Œusername.pubæ˜¯å®¢æˆ·ç«¯çš„å…¬é’¥gitolite setup -pk username.pub ï¼æ³¨æ„ï¼šä¸èƒ½åˆå§‹åŒ–ç®¡ç†å‘˜åœ¨git serverä¸Šï¼Œå³ï¼Œåœ¨serverä¸Šcloneæƒé™ç®¡ç†ä»“åº“ï¼Œç„¶åå†pushåˆ°server gitå®¢æˆ·ç«¯æ“ä½œ ç”Ÿæˆä¸€å¯¹å¯†é’¥ssh-keygen -t rsa -b 2048 #ä¸€è·¯å›è½¦ç©ºå¯†ç  å…‹éš†æƒé™ç®¡ç†ä»“åº“è¿™é‡Œå³ä½¿ç”¨serverä¸Šåˆå§‹çš„ç®¡ç†å‘˜æœºå™¨git clone git@gitserver.domain:gitolite-admin.git é…ç½®æƒé™ç®¡ç†vim gitolite-admin/conf/gitolite.conf æƒé™ç®¡ç†ä»‹ç» 123456789101112131415161718192021222324252627282930313233343536373839404142434445# å…³é”®å­—C ä»£è¡¨åˆ›å»ºï¼Œä»…åœ¨é€šé…ç¬¦ç‰ˆæœ¬åº“æˆæƒæ˜¯ä½¿ç”¨ï¼Œç”¨äºæŒ‡å®šè°å¯ä»¥åˆ›å»ºä¸é€šé…ç¬¦åŒ¹é…çš„ç‰ˆæœ¬åº“R RW RW+ Rä¸ºåªè¯»ï¼ŒRWä¸ºè¯»å†™æƒé™ï¼ŒRW+ä»£è¡¨é™¤äº†æ‹¥æœ‰è¯»å†™æƒé™ï¼Œè¿˜å¯ä»¥å¼ºåˆ¶æ‰§è¡Œæ¨é€RWC RW+C RWD RW+D Dä»£è¡¨å…è®¸åˆ é™¤å’Œæ­£åˆ™åŒ¹é…çš„å¼•ç”¨RWCD RW+CD# å®šä¹‰ç»„ï¼Œç”¨æˆ·@all æ‰€æœ‰ç»„ã€æ‰€æœ‰ç”¨æˆ·ã€æ‰€æœ‰ç‰ˆæœ¬åº“@administrator = admin kid å®šä¹‰ä¸€ä¸ªadministratorç»„å¹¶å°†ç”¨æˆ·adminï¼ŒkidåŠ å…¥è¯¥ç»„@develop = dev01 dev02@testing = test01 test02# ä¼ ç»Ÿæ¨¡å¼çš„å¼•ç”¨æˆæƒrepo test/repo1 RW+ = @administrators å…è®¸ç®¡ç†å‘˜ç»„ä»»æ„è¯»å†™ï¼Œå¼ºåˆ¶æ¨é€ RW master refs/heads/feature/ = @develop é™¤äº†å¯¹masterå’Œrefs/heads/feature/å¼€å¤´çš„å¼•ç”¨å…·æœ‰è¯»å†™æƒé™å¤–ï¼Œå®é™…ä¸Šå¯ä»¥è¯»å–æ‰€æœ‰å¼•ç”¨ã€‚è¿™æ˜¯å› ä¸ºè¯»å–æ“ä½œæˆæƒé˜¶æ®µæ— æ³•è·çŸ¥å¼•ç”¨ã€‚ R = @testing å¯¹ç‰ˆæœ¬åº“æ‹¥æœ‰åªè¯»æˆæƒ# æ‰©å±•æ¨¡å¼çš„å¼•ç”¨æˆæƒæ‰©å±•æ¨¡å¼çš„å¼•ç”¨æˆæƒï¼ŒæŒ‡çš„æ˜¯è¯¥ç‰ˆæœ¬åº“çš„æˆæƒæŒ‡ä»¤å‡ºç°äº†ä¸‹åˆ—æˆæƒå…³é”®å­—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼šRWCã€RWDã€RWCDã€RW+Cã€RW+Dã€RW+CDï¼Œå°†åˆ†æ”¯çš„åˆ›å»ºæƒé™å’Œåˆ é™¤æƒé™ä»è¯»å†™æƒé™ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»è€Œå¯å¯¹åˆ†æ”¯è¿›è¡Œæ›´ä¸ºç²¾ç»†çš„æƒé™æ§åˆ¶ã€‚repo test/repo2 RW+CD = @administrators RW+C = @develop RW = @testing# ä»¥NAME/å¼€å¤´çš„å¼•ç”¨åœ¨æˆæƒæ–‡ä»¶ä¸­ï¼Œå¦‚æœä¸€ä¸ªç‰ˆæœ¬åº“çš„æˆæƒæŒ‡ä»¤ä¸­çš„æ­£åˆ™å¼•ç”¨å­—æ®µå‡ºç°äº†ä»¥NAME/å¼€å¤´çš„å¼•ç”¨ï¼Œåˆ™è¡¨æ˜è¯¥æˆæƒæŒ‡ä»¤æ˜¯é’ˆå¯¹è·¯å¾„è¿›è¡Œçš„å†™æˆæƒï¼Œå¹¶ä¸”è¯¥ç‰ˆæœ¬åº“è¦è¿›è¡ŒåŸºäºè·¯å¾„çš„å†™æˆæƒåˆ¤æ–­ã€‚repo foo RW = @junior_devs @senior_devs ä¸¤ä¸ªç”¨æˆ·ç»„å‡å¯ä»¥è¯»å†™è¯¥ç‰ˆæœ¬åº“æ‰€æœ‰æ–‡ä»¶ RW /NAME/ = @senior_devs åªå…è®¸é«˜çº§å¼€å‘è¯»å†™ç‰¹å®šç›®å½• - /NAME/Makefile = @junior_devs æ²¡æœ‰è®¿é—®ç‰¹å®šç›®å½•Makefileçš„æƒé™ RW NAME/ = @junior_devs å…è®¸è¯»å†™ç‰¹å®šè·¯å¾„çš„æ‰€æœ‰æ–‡ä»¶# ä»¥VREF/å¼€å¤´çš„å¼•ç”¨æŒ‰ç…§DAYï¼ŒHouræ—¶é—´é™åˆ¶: VREF/Hour/NNâ€œNNâ€ can be between 00 to 23repo bar RW+ = @all - VREF/Hour/09 = @junior-devs - VREF/Hour/1[0-9] = @junior-devs - VREF/Hour/2[0-9] = @junior-devsæŒ‰ç…§æ¥æºåœ°å€è¿›è¡Œé™åˆ¶repo foo RW+ VREF/FROM/192.168.48.0/23 = @junior-devs - VREF/FROM = @junior-devs æ–‡æ¡£å¼•ç”¨ï¼šhttp://gitolite.com/gitolite/cookbook/#example-vrefshttps://blog.csdn.net/Rebel_Yangke/article/details/51554499 æ·»åŠ ä¸€ä¸ªç”¨æˆ·å³å°†ç”¨æˆ·å…¬é’¥æ·»åŠ åˆ°gitolite-admin/keydirï¼Œå‘½åè§„åˆ™ï¼šusername.pub æäº¤åˆ°git serverï¼Œæäº¤åæ‰ä¼šç”Ÿæ•ˆgit add -Agit commit -a -m &quot;Add user msg&quot;git push ï¼æ³¨æ„ï¼šä¸èƒ½ç›´æ¥å»æ”¹git serverä¸Šçš„æ–‡ä»¶ï¼Œå¿…é¡»ç»è¿‡æäº¤ç”Ÿæˆï¼Œeat dogs food. å®‰è£…gitweb å®‰è£…spawn-fcgiã€fcgi-develã€highlightyum -y install spawn-fcgi fcgi-devel highlight å®‰è£…fastcgi-wrapper 123456git clone https://github.com/gnosek/fcgiwrap.gitcd fcgiwrapautoreconf -i./configuremakemake install å¯åŠ¨fastcgi-wrapperspawn-fcgi -f /usr/local/sbin/fcgiwrap -a 127.0.0.1 -p 10086 å®‰è£…gitweb123456# yumå®‰è£…yum -y install gitweb# æ¨èæ‰‹åŠ¨å®‰è£…,è¿™é‡ŒåŒæ ·å®‰è£…2.18ç‰ˆæœ¬ï¼Œgitwebå’Œgitåœ¨ä¸€ä¸ªåŒ…é‡Œcd git-2.18.0make GITWEB_PROJECTROOT=&quot;/opt/git&quot; prefix=/usr install-gitweb# å®‰è£…ç›®å½•åœ¨$&#123;PREFIX&#125;/share/gitweb æ³¨æ„ï¼š1.7ç‰ˆæœ¬ä¸æ”¯æŒè¯­æ³•é«˜äº®ï¼Œå»ºè®®å‡çº§åˆ°2.+ gitwebé…ç½®åˆ›å»º/etc/gitweb.confå¦‚æœæ²¡æœ‰çš„è¯,é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425# é…ç½®ä»“åº“è·¯å¾„$projectroot = &quot;/home/git/repositories&quot;;# é…ç½®webéœ€è¦å±•ç¤ºçš„ä»“åº“$projects_list = &quot;/home/git/projects.list&quot;;$strict_export = 1;# ä¸‹é¢å°±æ˜¯ç½‘ç«™é™æ€æ–‡ä»¶çš„è®¾ç½®, / ä»£è¡¨ç«™ç‚¹æ ¹ç›®å½•# stylesheet to use@stylesheets = (&quot;/gitweb.css&quot;);# javascript code for gitweb$javascript = &quot;/gitweb.js&quot;;# logo to use$logo = &quot;/git-logo.png&quot;;# the &apos;favicon&apos;$favicon = &quot;/git-favicon.png&quot;;# é…ç½®cloneçš„ä»“åº“åœ°å€ï¼Œhttpå’Œssh@git_base_url_list = qw(git://git.finsos.com ssh://git.finsos.com/home/git/repositories);# æ˜¾ç¤ºä¿®æ”¹åçš„æœ€åæäº¤ï¼Œå¼€å¯$feature&#123;&apos;blame&apos;&#125;&#123;&apos;default&apos;&#125; = [1];$feature&#123;&apos;blame&apos;&#125;&#123;&apos;override&apos;&#125; = 1;# å…³é—­å¿«ç…§å‹ç¼©å­˜æ¡£$feature&#123;&apos;snapshot&apos;&#125;&#123;&apos;default&apos;&#125; = [&apos;zip&apos;, &apos;tgz&apos;];$feature&#123;&apos;snapshot&apos;&#125;&#123;&apos;override&apos;&#125; = 1;# å¼€å¯è¯­æ³•é«˜äº®,1.8+ç‰ˆæœ¬æ‰æ”¯æŒ$feature&#123;&apos;highlight&apos;&#125;&#123;&apos;default&apos;&#125; = [1]; èµ„æ–™ï¼šhttps://mirrors.edge.kernel.org/pub/software/scm/git/docs/gitweb.conf.htmlhttps://git.wiki.kernel.org/index.php/Gitweb ç¾åŒ–gitweb,å®‰è£…gitweb-themegit clone https://github.com/kogakure/gitweb-theme.git åŒ…é‡Œé¢æä¾›äº†setupå®‰è£…è„šæœ¬./setup -vi --install ç„¶å¹¶åµï¼Œç›´æ¥æŠŠXXX.pngå’ŒXXX.cssæ‹·è´åˆ°ç½‘ç«™ç›®å½•ä¸‹å°±OK\\cp -af gitweb-theme/*.{css,png} /var/www/git/ å®‰è£…webæœåŠ¡å™¨ï¼Œè¿™é‡Œé€‰æ‹©Nginx nginxä¿¡æ¯ ç‰ˆæœ¬ï¼šnginx/1.13.8å‚æ•°ï¼šâ€“prefix=/usr/local/nginx â€“pid-path=/var/run/nginx/nginx.pid â€“with-threads â€“with-http_ssl_module â€“with-http_v2_module â€“with-http_realip_module â€“with-http_addition_module â€“with-http_sub_module â€“with-http_stub_status_module â€“with-pcre â€“with-stream=dynamic â€“add-dynamic-module=../echo-nginx-module-0.61/ å®‰è£…ç¼–è¯‘å®‰è£…æˆ–è€…yumå®‰è£…éƒ½è¡Œï¼Œè¿™é‡Œå°±ä¸å†™äº† ç”¨htpasswdç”Ÿæˆä¸ªå¯†ç é…ç½®ç«™ç‚¹ç”¨htpasswd -cmds .password username gitç«™ç‚¹é…ç½®ç¤ºä¾‹ 12345678910111213141516171819202122server &#123; listen 80; server_name git.domain.com; access_log logs/git.domain.access.log main; error_log logs/git.domain.error.log warn; root /var/www/git; # HTTP Basicé…ç½® auth_basic &quot;Git Server On domain.com&quot;; auth_basic_user_file conf/.password; location ~* ^.+\\.(css|png|ico|js)$ &#123; expires 30d; &#125; location / &#123; index gitweb.cgi; fastcgi_param SCRIPT_FILENAME $document_root/gitweb.cgi; fastcgi_pass 127.0.0.1:10086; fastcgi_param HTTP_HOST $server_name; fastcgi_param PATH_INFO $uri; fastcgi_param QUERY_INFO $uri; include &quot;fastcgi_params&quot;; &#125;&#125; é™„ä¸€ä¸ªnginxçš„æœåŠ¡ç®¡ç†è„šæœ¬ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124#!/bin/sh# nginx - this script starts and stops the nginx daemon# chkconfig: - 85 15# description: Nginx is an HTTP(S) server, HTTP(S) reverse \\# proxy and IMAP/POP3 proxy server# processname: nginx# config: /etc/nginx/nginx.conf# config: /etc/sysconfig/nginx# pidfile: /var/run/nginx.pid# Source function library.. /etc/rc.d/init.d/functions# Source networking configuration.. /etc/sysconfig/network# Check that networking is up.[ &quot;$NETWORKING&quot; = &quot;no&quot; ] &amp;&amp; exit 0nginx=&quot;/usr/local/nginx/sbin/nginx&quot;prog=$(basename $nginx)NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot;[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginxlockfile=/var/lock/subsys/nginxmake_dirs() &#123; # make required directories user=`nginx -V 2&gt;&amp;1 | grep &quot;configure arguments:&quot; | sed &apos;s/[^*]*--user=\\([^ ]*\\).*/\\1/g&apos; -` options=`$nginx -V 2&gt;&amp;1 | grep &apos;configure arguments:&apos;` for opt in $options; do if [ `echo $opt | grep &apos;.*-temp-path&apos;` ]; then value=`echo $opt | cut -d &quot;=&quot; -f 2` if [ ! -d &quot;$value&quot; ]; then # echo &quot;creating&quot; $value mkdir -p $value &amp;&amp; chown -R $user $value fi fi done&#125;start() &#123; [ -x $nginx ] || exit 5 [ -f $NGINX_CONF_FILE ] || exit 6# make_dirs echo -n $&quot;Starting $prog: &quot; daemon $nginx -c $NGINX_CONF_FILE retval=$? echo [ $retval -eq 0 ] &amp;&amp; touch $lockfile return $retval&#125;stop() &#123; echo -n $&quot;Stopping $prog: &quot; killproc $prog -QUIT retval=$? echo [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile return $retval&#125;restart() &#123; configtest || return $? stop sleep 1 start&#125;reload() &#123; configtest || return $? echo -n $&quot;Reloading $prog: &quot; killproc $nginx -HUP RETVAL=$? echo&#125;force_reload() &#123; restart&#125;configtest() &#123; $nginx -t -c $NGINX_CONF_FILE&#125;rh_status() &#123; status $prog&#125;rh_status_q() &#123; rh_status &gt;/dev/null 2&gt;&amp;1&#125;case &quot;$1&quot; in start) rh_status_q &amp;&amp; exit 0 $1 ;; stop) rh_status_q || exit 0 $1 ;; restart|configtest) $1 ;; reload) rh_status_q || exit 7 $1 ;; force-reload) force_reload ;; status) rh_status ;; condrestart|try-restart) rh_status_q || exit 0 ;; *) echo $&quot;Usage: $0 &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;&quot; exit 2esac","tags":[{"name":"gitç®¡ç†","slug":"gitç®¡ç†","permalink":"http://finsos.github.io/tags/gitç®¡ç†/"}],"categories":[{"name":"Git","slug":"Git","permalink":"http://finsos.github.io/categories/Git/"}]},{"title":"ä¸€å¥è¯å‘½ä»¤","date":"2018-10-30T16:00:00.000Z","path":"wiki/ä¸€å¥è¯å‘½ä»¤/","text":"ansible setupæ¨¡å—è¿‡æ»¤å¤šä¸ªè¿”å›å‚æ•°ansible hosts -m setup | sed &#39;s/.*=&gt;//g&#39;|jq &#39;.ansible_facts|{ip: .ansible_default_ipv4.address, version: .ansible_distribution_version}&#39; openssl æ£€æŸ¥p12è¯ä¹¦æœ‰æ•ˆæœŸopenssl pkcs12 -in push_cert_prod.p12 -nokeys|openssl x509 -noout -startdate -enddate æ—¥å¸¸è¿ç»´ æ‰¹é‡curlæ£€æŸ¥æœåŠ¡èƒ½å¦è®¿é—®ls -l /usr/local/tomcat/webapps |grep ^d|awk &#39;{print $NF}&#39;|xargs -I@ curl -sI http://localhost:8080/@/application.wadl ç»Ÿè®¡ç½‘ç»œè¿æ¥çŠ¶æ€netstat -n | awk &#39;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&#39; è®¡ç®—ç³»ç»ŸCPUç©ºé—²ç‡cat /proc/uptime | awk &#39;{print $2/($1*4)*100 &quot;%&quot;}&#39; uptimeç¬¬ä¸€åˆ—è¡¨ç¤ºç³»ç»Ÿå¯åŠ¨åˆ°ç°åœ¨ä½¿ç”¨çš„æ—¶é—´,ç¬¬äºŒåˆ—æ˜¯ç©ºé—²çš„æ—¶é—´,4è¡¨ç¤ºæœ‰4ä¸ªcpu","tags":[],"categories":[{"name":"è¿ç»´è®°å½•","slug":"è¿ç»´è®°å½•","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/"}]},{"title":"è®°ä¸€æ¬¡SSLè¯ä¹¦é—®é¢˜","date":"2018-10-30T16:00:00.000Z","path":"wiki/è®°ä¸€æ¬¡SSLè¯ä¹¦é—®é¢˜/","text":"ç°è±¡æ–°ä¸Šçº¿ä¸€ä¸ªæœåŠ¡ï¼Œå‘ç°ä½¿ç”¨æµè§ˆå™¨è®¿é—®æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå¾®ä¿¡IPhoneå¯ä»¥è®¿é—®ï¼ŒAndroidæœ‰äº›æ— æ³•è®¿é—®ï¼Œæ’æŸ¥äº†å…¬ç½‘IPï¼Œå¾®ä¿¡ç‰ˆæœ¬ï¼Œå‘ç°æ²¡æœ‰å¤ªå¤šè§„å¾‹ï¼Œçº¿ä¸Šæ’æŸ¥æ—¥å¿—å‘ç°è¿æ¥å·²ç»ä¸Šæ¥äº†ï¼Œä½†æ˜¯åˆ°äº†nginxå°±æ²¡æœ‰æ—¥å¿—äº†ã€‚åé¢æ’æŸ¥ä¸‹æ¥å°±ç¡®å®šäº†æ˜¯SSLè¯ä¹¦é“¾ç¼ºå¤±å¯¼è‡´ã€‚ æ’æŸ¥ ä½¿ç”¨opensslè®¿é—®æµ‹è¯•openssl s_client -connect check.jmc.com.cn:443æŠ¥é”™å¦‚ä¸‹ï¼š CONNECTED(00000003)â€¦verify error:num=20:unable to get local issuer certificateverify return:1â€¦verify error:num=27:certificate not trustedverify return:1â€¦verify error:num=21:unable to verify the first certificateverify return:1â€¦Certificate chain0 s:/C=CN/ST=Jiangxi/L=Nanchang/O=Jiangling Motors Co.,LTD/OU=IT/CN=*.jmc.com.cn i:/C=US/O=DigiCert Inc/CN=DigiCert SHA2 Secure Server CA è§£é‡Šï¼š Certificate chainæ˜¾ç¤ºäº†è¯ä¹¦é“¾ï¼Œæœ€å‰é¢ä¸ºåºå·ï¼Œä»0å¼€å§‹ s: Server CAï¼Œi: Information CA è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œè¯ä¹¦é“¾ä¸­åªæœ‰ä¸€ä¸ªè¯ä¹¦ä¿¡æ¯ï¼Œå¹¶æ²¡æœ‰æ˜¾ç¤ºInformation CAçš„ç­¾å‘è¯ä¹¦ï¼Œç”±æ­¤å¯è§æ˜¯è¯ä¹¦é“¾ç¼ºå¤±ï¼Œå¯¼è‡´TLSéªŒè¯ä¸è¿‡ è§£å†³ ç”±äºå®¢æˆ·é‚£è¾¹æä¾›çš„PFXæ ¼å¼çš„è¯ä¹¦ï¼Œæ‰€ä»¥éœ€è¦åˆ†ç¦»å‡ºpemè¯ä¹¦å’Œkeyopenssl pkcs12 -in mycert.pfx -nokeys -out mycert.pemopenssl pkcs12 -in mycert.pfx -nocerts -nodes -out mycert.key æ­¤æ—¶æœ‰ä¸¤ç§åŠæ³•ï¼š å‘è¯ä¹¦ä¾›åº”å•†ç´¢å–fullchainè¯ä¹¦ï¼Œå³åŒ…å«å®Œæ•´è¯ä¹¦é“¾çš„è¯ä¹¦ å»è¯ä¹¦å®˜æ–¹ç½‘ç«™æŸ¥æ‰¾æ˜¯å¦æœ‰Information CRTå¯ä¾›ä¸‹è½½ï¼Œå¦‚æœæœ‰ï¼Œå°±å¯ä»¥ä¸‹è½½ä¸‹æ¥æ·»åŠ åˆ°æˆ‘ä»¬çš„serverè¯ä¹¦ä¸­å» è¿™é‡Œç”¨äº†ç¬¬äºŒç§ï¼Œåœ¨digicertå®˜ç½‘ä¸‹è½½CRTè¯ä¹¦ https://www.digicert.com/digicert-root-certificates.htmè¿™é‡Œæˆ‘ä»¬ç¼ºå°‘çš„CNä¸º â€œDigiCert SHA2 Secure Server CAâ€ï¼Œå› æ­¤ä¸‹è½½å¯¹åº”çš„CRTCNä¹Ÿå¯é€šè¿‡æµè§ˆå™¨è®¿é—®æ—¶æŸ¥è¯¢è¯ä¹¦å…³ç³»å¾—çŸ¥ ä¸‹è½½çš„CRTè¯ä¹¦å› ä¸ºæ˜¯DERæ ¼å¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦è½¬æ¢æˆPEMæ ¼å¼openssl x509 -inform DER -in DigiCertSHA2SecureServerCA.crt -outform PEM -out informaition.pem æ¥ä¸‹æ¥åªéœ€è¦å°†ä¸¤ä¸ªè¯ä¹¦åˆå¹¶åœ¨ä¸€èµ·å°±å¯ä»¥äº†ï¼Œåˆå¹¶æ—¶éµå¾ªæœ€ä¸Šé¢æ˜¯ S å…¶æ¬¡ I æœ€å Rï¼Œä½†æ˜¯ä¸€èˆ¬Réƒ½æ˜¯å†…ç½®äº†ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥ S: Server CA #åŸŸåè¯ä¹¦I: Information CA #æœºæ„è¯ä¹¦R: Root CA #æ ¹è¯ä¹¦ ç„¶ååœ¨nginxä¸Šé…ç½®æˆ‘ä»¬æ”¹è¿‡çš„pemè¯ä¹¦æ–‡ä»¶ï¼Œä»¥åŠåˆ†ç¦»çš„è¯ä¹¦keyï¼Œè®¿é—®æµ‹è¯• â€¦Certificate chain0 s:/C=CN/ST=Jiangxi/L=Nanchang/O=Jiangling Motors Co.,LTD/OU=IT/CN=*.jmc.com.cn i:/C=US/O=DigiCert Inc/CN=DigiCert SHA2 Secure Server CA1 s:/C=US/O=DigiCert Inc/CN=DigiCert SHA2 Secure Server CA i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert Global Root CAâ€¦Verify return code: 0 (ok) æˆåŠŸã€‚ åé€šè¿‡ä¹‹å‰æœ‰é—®é¢˜çš„è®¾å¤‡ï¼Œæ‰“å¼€å¾®ä¿¡è®¿é—®åŸŸåå·²ç»å¯ä»¥æ‰“å¼€å¹¶æ˜¾ç¤ºé¡µé¢äº†ã€‚","tags":[{"name":"ssl","slug":"ssl","permalink":"http://finsos.github.io/tags/ssl/"},{"name":"http","slug":"http","permalink":"http://finsos.github.io/tags/http/"}],"categories":[{"name":"è¿ç»´è®°å½•","slug":"è¿ç»´è®°å½•","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/"},{"name":"WebæœåŠ¡","slug":"è¿ç»´è®°å½•/WebæœåŠ¡","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/WebæœåŠ¡/"}]},{"title":"","date":"2018-08-31T14:41:10.947Z","path":"wiki/å¥½å¬çš„æ­Œå•/","text":"å¥½å¬çš„æ­Œå• å¯èƒ½å¦ - å°æœ¨é›… å¥½å¯æƒœ - åº„å¿ƒå¦ è¿‡å®¢ - é˜¿æ¶µ å†è§åªæ˜¯é™Œç”Ÿäºº - åº„å¿ƒå¦ ä¸å†è”ç³» - å¤å¤©Alex åæ¥çš„æˆ‘ä»¬ - åˆ˜å¢ç³","tags":[],"categories":[]},{"title":"Welcome to luke's wiki site!","date":"2018-07-28T14:17:42.534Z","path":"wiki/index/","text":"å¯¼è¯­è¿™åªæ˜¯ä¸ªäººçŸ¥è¯†ç«™ç‚¹ï¼Œä¸»è¦ç”¨äºè®°å½•å¹³æ—¶ä¸€äº›çŸ¥è¯†ç¢ç‰‡ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿è‡ªå·±ä»ŠåæŸ¥é˜…ï¼Œå†…å®¹ä¸é™å®šï¼Œæœ‰æ—¶é—´å°±æ›´æ–°ã€‚ å¤§æ¦‚ç†ä¸€ä¸‹ä¸»è¦å†…å®¹ï¼š å¹³æ—¶å­¦ä¹ å‰æ²¿çš„æŠ€æœ¯ï¼Œåšä¸ªçŸ¥è¯†ç§¯ç´¯ å­¦ä¹ æˆæœï¼Œå¼€å‘çš„ä¸€äº›å·¥å…·ä¹‹ç±» å·¥ä½œä¸­è¸©è¿‡çš„å‘ï¼Œæ—¢ç„¶å¡«å‘äº†ï¼Œé‚£å°±é“ºæ¡è·¯å‡ºæ¥ ç”Ÿæ´»ä¸­çš„çç¢å¿ƒæƒ… æ¨èçš„ä¹¦ç±ï¼Œé˜…è¯»å¿ƒå¾— äº’è”ç½‘èµ„è®¯ç±»ï¼Œæ–°é²œäº‹å„¿ ç”µå½±éŸ³ä¹ç±»ï¼Œæ¯•ç«Ÿæˆ‘çˆ±ç”µè§†å‰§ï¼ŒğŸ˜ æ‘„å½±ç±»ï¼Œç¾ä¸½çš„äº‹ç‰©èµå¿ƒæ‚¦ç›® äº‹æƒ…æ¯”è¾ƒæ‚ï¼Œä½†æ˜¯ä¸»è¦æ˜¯ä¸“å¿ƒäºæŠ€æœ¯ï¼Œå­¦ä¹ ï¼Œæå‡è‡ªæˆ‘ã€‚ ç»“æŸæœ€åæ¥å¼ å›¾ï¼Œå¤§å®¶å…±å‹‰ã€‚ å‡›å†¬å·²è‡³ï¼Œè¿˜ä¸èµ¶ç´§é€¼è‡ªå·±ä¸€æŠŠã€‚","tags":[],"categories":[]},{"title":"Elasticsearchå¿«ç…§å¤‡ä»½","date":"2018-07-28T14:04:58.090Z","path":"wiki/Elasticsearchå¿«ç…§å¤‡ä»½/","text":"ç‰ˆæœ¬ä¿¡æ¯ ElasticSearch: 5.3.0JDK: 1.8OS: CentOS release 6.8 (Final) ä¿®æ”¹bin/elasticsearch-pluginï¼ˆå¦‚pluginå‘½ä»¤ä¸å¯ç”¨ï¼‰ ä½¿ç”¨ansible-elasticsearchè¿™ä¸ªplaybookå®‰è£…ä¼šå­˜åœ¨æ­¤é—®é¢˜ 12# For a distribution package, the value is \"/etc/sysconfig/elasticsearch\".ES_ENV_FILE=\"/etc/sysconfig/è¿™é‡Œä¿®æ”¹ä¸ºå®é™…çš„é…ç½®æ–‡ä»¶å\" å®‰è£…repository-hdfsæ’ä»¶ å®‰è£…å‘½ä»¤ 12cd /usr/share/elasticsearch/bin./elasticsearch-plugin install repository-hdfs ä¿®æ”¹é…ç½®plugin-security.policy(5.3ç‰ˆæœ¬bug) Q: åˆ›å»ºå¿«ç…§æ—¶ä¼šæŠ¥é”™ 1java.security.AccessControlException: access denied (\"javax.security.auth.PrivateCredentialPermission\" \"org.apache.hadoop.security.Credentials\" \"read\") A: ä¿®å¤æŠ¥é”™ 12345678910111213141516# ä¿®æ”¹ ../plugins/repository-hdfs/plugin-security.policy# å¢åŠ å¦‚ä¸‹ï¼š permission java.lang.RuntimePermission \"accessDeclaredMembers\"; permission java.lang.RuntimePermission \"getClassLoader\"; permission java.lang.RuntimePermission \"shutdownHooks\"; permission java.lang.reflect.ReflectPermission \"suppressAccessChecks\"; permission javax.security.auth.AuthPermission \"doAs\"; permission javax.security.auth.AuthPermission \"getSubject\"; permission javax.security.auth.AuthPermission \"modifyPrivateCredentials\"; permission java.security.AllPermission; permission java.util.PropertyPermission \"*\", \"read,write\"; permission javax.security.auth.PrivateCredentialPermission \"org.apache.hadoop.security.Credentials * \\\"*\\\"\", \"read\"; # ä¿®æ”¹Elasticé…ç½®ç›®å½•ä¸‹jvm.options# æŒ‡å®šæƒé™æ–‡ä»¶-Djava.security.policy=file:///usr/share/elasticsearch/plugins/repository-hdfs/plugin-security.policy é‡å¯ESæœåŠ¡åŠ è½½æ’ä»¶1/etc/init.d/elasticsearch restart åˆ©ç”¨å¿«ç…§APIå¤‡ä»½ åœ¨hdfsä¸Šåˆ›å»ºå¤‡ä»½ç›®å½•æˆæƒ 123hadoop fs -mkdir /es_backup#è¦æ±‚esç”¨æˆ·å¯è¯»å†™hadoop fs -chown elasticsearch:elasticsearch /es_backup åˆ›å»ºä»“åº“ 123456789101112131415161718PUT /_snapshot/my_backup &#123; \"type\": \"hdfs\", \"settings\": &#123; \"path\": \"/es_backup\", \"load_defaults\": \"true\", \"compress\": \"true\", \"uri\": \"hdfs://172.26.33.55:8020\" &#125; &#125;# æŸ¥çœ‹ä»“åº“ä¿¡æ¯GET /_snapshot/my_backup# åˆ é™¤ä»“åº“DELETE /_snapshot/my_backup# æ­¤æ—¶æŸ¥çœ‹HDFSä¸Šçš„æ–‡ä»¶hadoop fs -ls /es_backuphadoop fs -cat /es_backup/index-0 åˆ›å»ºå¿«ç…§ 12345678910PUT /_snapshot/my_backup/snapshot_1?wait_for_completion=true &#123; \"indices\": \"index_1,index_2\", //ä¸è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œé»˜è®¤å¤‡ä»½æ‰€æœ‰index \"ignore_unavailable\": true, \"include_global_state\": false &#125;# æŸ¥çœ‹å¿«ç…§ä¿¡æ¯ï¼Œæ”¯æŒé€šé…ç¬¦GET _snapshot/my_backup/snapshot_1# åˆ é™¤å¿«ç…§ï¼Œè¿™é‡Œåªæ˜¯esçš„å¼•ç”¨åˆ é™¤ï¼Œhdfsä¸­çš„æ–‡ä»¶å¹¶ä¸ä¼šåˆ é™¤DELETE _snapshot/my_backup/snapshot_1 æ¢å¤å¿«ç…§ 1234567891011POST /_snapshot/my_backup/snapshot_1/_restore &#123; \"indices\": \"index_1,index_2\", //æŒ‡å®šç´¢å¼•æ¢å¤ï¼Œä¸æŒ‡å®šå°±æ˜¯æ‰€æœ‰ \"ignore_unavailable\": true, //å¿½ç•¥æ¢å¤æ—¶å¼‚å¸¸ç´¢å¼• \"include_global_state\": false, //æ˜¯å¦å­˜å‚¨å…¨å±€è½¬æ€ä¿¡æ¯,fasleä»£è¡¨æœ‰ä¸€ä¸ªæˆ–å‡ ä¸ªå¤±è´¥ï¼Œä¸ä¼šå¯¼è‡´æ•´ä¸ªä»»åŠ¡å¤±è´¥ \"rename_pattern\": \"index_(.+)\", //æ˜¯å¦éœ€è¦é‡å‘½åç´¢å¼• \"rename_replacement\": \"restored_index_$1\" //æ›¿æ¢åçš„ç´¢å¼•å &#125;# ç›‘æ§æ¢å¤æƒ…å†µGET restored_index_1/_recovery","tags":[{"name":"elasticsearch","slug":"elasticsearch","permalink":"http://finsos.github.io/tags/elasticsearch/"}],"categories":[{"name":"Elasticsearch","slug":"Elasticsearch","permalink":"http://finsos.github.io/categories/Elasticsearch/"}]},{"title":"å‡†å¤‡å¼€å§‹ æ·±åº¦å­¦ä¹ ","date":"2018-02-26T14:11:01.614Z","path":"wiki/è¿›å†›æ·±åº¦å­¦ä¹ /","text":"ä¸€ç›´å†™äº†æ²¡æœ‰å‘å‡ºï¼Œ æ‹–æ²“ç—‡çœŸçš„æŒºä¸¥é‡ã€‚ã€‚ã€‚ è¿›å†›æ·±åº¦å­¦ä¹ è¯¾ç¨‹è¿‘æœŸçœ‹äº†ä¸€äº›å…³äºäººå·¥æ™ºèƒ½ç³»åˆ—çš„æ–‡ç« ï¼Œå¯¹è¿™ç§å‰æ²¿çš„æŠ€æœ¯å……æ»¡äº†å…´è¶£ï¼Œä½†æ˜¯è‹¦äºä¸Šå­¦æ—¶å€™æ²¡æœ‰å¥½å¥½å­¦ä¹ ğŸ˜‚ï¼Œæ‰€ä»¥æƒ³è¡¥å……ä¸€ä¸‹æ•°å­¦åŸºç¡€çŸ¥è¯†ã€‚å­¦ä¹ çš„è¿‡ç¨‹ä¸­é¡ºä¾¿æ¸©ä¹ äº†ä¸€ä¸‹è§£æ–¹ç¨‹ ç›®å‰çœ‹çš„æ•°å­¦ä¹¦ç± çº¿æ€§ä»£æ•° çœ‹äº†å‰é¢å‡ ç« ï¼Œäº†è§£äº†ä¸‹å‘é‡çš„æ¦‚å¿µï¼Œä»¥åŠçŸ©é˜µçš„æ¦‚å¿µã€‚å…¶æ¬¡ï¼Œå°±æ˜¯è§£æ–¹ç¨‹ç»„ã€‚ åˆæ˜¯ä¸€ä¸¤ä¸ªæœˆæ²¡çœ‹äº†ï¼Œå¿˜å¾—å·®ä¸å¤šäº†ï¼Œå”‰ ç¦»æ•£æ•°å­¦ æš‚æ—¶æç½® ç®€å•æ•°å­¦ç¤ºä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#!/bin/env python#-*-encoding: utf8-*-#pythonè§£ä¸€å…ƒæ–¹ç¨‹'''usag: simple.py number power symbolnotice: please input full args.args: number - you can input any numbers. power - it's a power for number like 3^2, the 2 is 3'power. symbol - the math symbol like +,-,*,/'''import osimport stringdef quadratic(number, power, symbol): i = 1 result = [] text = [] while True: calc_text = str(pow(number, power)) + ' ' + symbol + ' ' + str(pow((number - i), power)) calc_result = eval(calc_text) i += 1 if calc_result &lt; 0: print (u'no solution!') continue if i &gt; number: break result.append(calc_result) text.append(calc_text) return result, text if __name__ == '__main__': try: number = os.sys.argv[1] power = os.sys.argv[2] symbol = os.sys.argv[3] number = int(number) power = int(power) symbol = str(symbol) symbol_standard = '+-*/' symbol_sense = string.find(symbol_standard, symbol) != -1 if not (isinstance(number,int) and isinstance(power,int) and symbol_sense): print (__doc__) os.sys.exit(1) except Exception: print (__doc__) os.sys.exit(1) (result,text) = quadratic(number, power, symbol) i = 0 total = int() for i in range(len(text)): total += result[i] print ('%s = %s' % (text[i], result[i])) i += 1 if i &gt; len(text): break print ('total: %s \\nlength: %s \\naverage: %s' % (total, len(text), round(total/len(text))))","tags":[{"name":"python","slug":"python","permalink":"http://finsos.github.io/tags/python/"}],"categories":[{"name":"æ–‡ç¬”éšè®°","slug":"æ–‡ç¬”éšè®°","permalink":"http://finsos.github.io/categories/æ–‡ç¬”éšè®°/"},{"name":"å‘å¾€","slug":"æ–‡ç¬”éšè®°/å‘å¾€","permalink":"http://finsos.github.io/categories/æ–‡ç¬”éšè®°/å‘å¾€/"}]},{"title":"centosæ­å»ºå±€åŸŸç½‘repoæº","date":"2018-01-20T05:35:41.000Z","path":"wiki/centosæ­å»ºæœ¬åœ°repoæº/","text":"èµ·åˆæ˜¯å› ä¸ºæœ‰äº›æ—¶å€™éœ€è¦å®‰è£…çš„ä¸€äº›åŒ…æ€»æ˜¯åœ¨ç³»ç»Ÿè‡ªå¸¦çš„repoä»“åº“æ‰¾ä¸åˆ°ï¼Œæœ‰äº›å›½å¤–çš„æºåˆå¾ˆæ…¢ï¼Œè‡ªå·±æœ¬åœ°éƒ½è¦ä¸‹è½½å¾ˆé•¿æ—¶é—´ï¼Œå¶å°”åˆæœ‰ä¸€äº›ä¾èµ–ç¼ºå¤±ä¹‹ç±»çš„ï¼Œå¹²è„†å°±æŠŠè‡ªå·±å·¥ä½œç¯å¢ƒä¸­æ‰€éœ€è¦çš„åŒ…å­˜èµ·æ¥ï¼Œè‡ªå·±å»ºä¸€ä¸ªå†…ç½‘ä»“åº“ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢è¿™ç¯‡æ–‡ç« ã€‚ ä¾èµ– å®‰è£…httpdæœåŠ¡æˆ–è€…nginxæœåŠ¡ã€‚#çœç•¥ ä¸€äº›ç›®å½•è®¾å®š DocumentRoot: /var/www/html RepoDirectory: /var/www/html/HDP-UTILS-1.1.0.21 è„šæœ¬ç›®å½•ï¼š /etc/init.d ä¸‹è½½éœ€è¦çš„RPM è¿›å…¥DocumentRootï¼Œå°†ä¸‹è½½çš„rpmåŒ…copyè‡³è¯¥ç›®å½• æˆ–è€…ç›´æ¥ä»å·²æœ‰æºåœ°å€ä»“åº“ä¸‹è½½ï¼š 12#ä¸‹è½½è¯¥ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶wget -c -r -np -P /var/www/html http://hdp.domain/HDP-UTILS-1.1.0.21 è§£é‡Šä¸€ä¸‹wgetå‘½ä»¤çš„ç”¨æ³•ï¼š 12345-c æ–­ç‚¹ç»­ä¼ -r é€’å½’ä¸‹è½½-np ä¸ä¸‹è½½çˆ¶é™„å½•-nd ä¸å»ºç«‹ç›®å½•ï¼Œè‹¥æ— æ­¤é€‰é¡¹ï¼Œå°†æŒ‰ç…§ç½‘ç«™ç›®å½•ç»“æ„åˆ›å»ºç›®å½•-P å°†ä¸‹è½½çš„æ‰€æœ‰å†…å®¹å­˜æ”¾åˆ°æŒ‡å®šç›®å½• ä½¿ç”¨createrepoå‘½ä»¤åˆ›å»ºrepoä¿¡æ¯ å®‰è£…createrepo 12#ä¸€èˆ¬centosè‡ªå¸¦çš„yumä»“åº“å°±æœ‰yum install -y createrepo æ‰§è¡Œå‘½ä»¤åˆ›å»ºrepo 12#åˆå§‹åŒ–æº,ç”Ÿæˆrepodataå…ƒæ•°æ®,ä¿å­˜åœ¨RepoDirectorycreaterepo --workers=2 -pdo /var/www/html/HDP-UTILS-1.1.0.21 /var/www/html/HDP-UTILS-1.1.0.21 -c /tmp/HDP-UTILS-1.1.0.21 -v è§£é‡Šä¸€ä¸‹createrepoå‘½ä»¤ï¼š 12345-p ä»¥æ¼‚äº®çš„æ ¼å¼è¾“å‡ºxml-d ä½¿ç”¨sqliteå­˜å‚¨ç”Ÿæˆçš„å…ƒæ•°æ®ï¼Œé»˜è®¤é¡¹-o æŒ‡å®šå…ƒæ•°æ®çš„è¾“å‡ºä½ç½®-c æŒ‡å®šç¼“å­˜ç›®å½•ï¼Œç¼“å­˜è½¯ä»¶ä»“åº“ä¸­è½¯ä»¶åŒ…çš„æ ¡éªŒå’Œä¿¡æ¯-v ä»¥è¯¦ç»†æ¨¡å¼è¾“å‡º å¯åŠ¨httpæœåŠ¡ å¯åŠ¨æœåŠ¡ä»¥ä¾›å…¶ä»–æœºå™¨è®¿é—®1/etc/init.d/httpd restart åˆ›å»ºå®¢æˆ·ç«¯ä½¿ç”¨çš„repoæ–‡ä»¶12345678cat /etc/yum.repos.d/HDP-UTILS.repo &lt;&lt;EOF #VERSION_NUMBER=1.1.0.21 [HDP-UTILS-1.1.0.21] name=HDP-UTILS-1.1.0.21 baseurl=http://local.network.domain/HDP-UTILS-1.1.0.21/ gpgcheck=0 enabled=1EOF è®¿é—®æµ‹è¯• æµè§ˆå™¨è®¿é—®[http://local.network.domain/HDP-UTILS-1.1.0.21/] å®¢æˆ·ç«¯æœåŠ¡å™¨ä½¿ç”¨å‘½ä»¤ yum repolist|grep &quot;HDP-UTILS-1.1.0.21&quot; çœ‹èƒ½å¦è·å–åˆ°æ­£ç¡®çš„repoå’Œæ–‡ä»¶æ•°é‡","tags":[{"name":"repoä»“åº“","slug":"repoä»“åº“","permalink":"http://finsos.github.io/tags/repoä»“åº“/"}],"categories":[{"name":"è¿ç»´è®°å½•","slug":"è¿ç»´è®°å½•","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/"},{"name":"Linux","slug":"è¿ç»´è®°å½•/Linux","permalink":"http://finsos.github.io/categories/è¿ç»´è®°å½•/Linux/"}]},{"title":"å†™åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« çš„è¯","date":"2018-01-19T15:23:44.000Z","path":"wiki/å†™åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« çš„è¯/","text":"åšå®¢å¼€å¼ äº†ï¼ŒThe first bloodè¿˜æ˜¯è¦è´¡çŒ®ä¸€ä¸‹ï¼Œæ¥è§¦åšå®¢å¥½å¤šï¼Œä»Šå¤©ç®—æ˜¯ç¬¬ä¸€æ¬¡å®Œå…¨æ­å»ºå±äºè‡ªå·±çš„ä¸ªäººåšå®¢ï¼Œä¹Ÿæ˜¯æ— æ„é—´æ¥è§¦åˆ°GitHub Pagesï¼Œè§‰å¾—å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”å®Œç¾æ”¯æŒMarkdownï¼Œå°±è¿™ä¹ˆé€‰å¥½æ¨¡æ¿å…¥å‘äº†ã€‚ å†™åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« çš„è¯è¿™ä¸ªåšå®¢ï¼Œä¸»è¦æ˜¯ç”¨äºè®°å½•è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ï¼Œä»¥åŠå·¥ä½œä¸­æ‰€è¸©çš„ä¸€äº›æ–°å‘ï¼ŒåŒ…æ‹¬è‡ªå·±è„‘å­è®°ä¸ä½çš„çŸ¥è¯†ç‚¹(å¤§å®¶éƒ½æ‡‚çš„^_^)! å…¶å®å¶å°”ä¹Ÿä¼šæœ‰ä¸€äº›è‡ªå·±çš„å¿ƒæƒ…ä½“ä¼šå‘è¡¨ä¸€ä¸‹ï¼Œä¸»è¦æ˜¯åæ§½å•¦~ ä¸ºä»€ä¹ˆå¼€åšå®¢ å¸Œæœ›å…»æˆè‰¯å¥½çš„ä¸ªäººä¹ æƒ¯ æŠ€æœ¯æ›´æ–°è¿­ä»£å¾ˆå¿«ï¼Œå¯¹æˆ‘è¿™ç§æˆ˜5æ¸£çš„å†²å‡»åŠ›å¤ªå¤§ï¼Œå¿…é¡»æ—¶åˆ»æé†’è‡ªå·±è¦æ€ï¼ˆæŒ£ï¼‰è€ƒï¼ˆé’±ï¼‰ï¼è¦å­¦ï¼ˆé«˜ï¼‰ä¹ ï¼ˆè–ªï¼‰ï¼ ä¸å®šæ—¶æ›´æ–°ï¼Œè‡ªå·±æ»¡è¶³å°±å¥½ï¼Œå½“ç„¶ï¼Œå¦‚æœæ–‡ç« ä¸­æœ‰æ¶‰åŠåˆ°å¯ä»¥å¸®åŠ©å¤§å®¶çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä¹Ÿæ˜¯å¾ˆå¼€å¿ƒå•¦å•¦å•¦~ æˆ‘æ˜¯ä»€ä¹ˆäºº ç›®å‰ä¸€åæ™®é€šçš„Linuxè¿ç»´ï¼ˆæ°‘å·¥ï¼‰ æ¥è§¦äº†ä¸€äº›è²Œä¼¼é«˜å¤§å±±çš„ä¸œè¥¿ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†å¸ƒå¼è®¡ç®—ã€åˆ†å¸ƒå¼å­˜å‚¨ã€è™šæ‹ŸåŒ–ã€è‡ªåŠ¨åŒ–è¿ç»´ã€DevOps ç­‰ç­‰ å¯¹äºä¸Šé¢é‚£äº›å¹³æ—¶å…‰è¯´ï¼Œå…‰å¬ï¼Œå®é™…åŸç†å…¶å®å¹¶æ²¡æœ‰åƒé€ï¼Œçº¯ç²¹æ“ä½œä¸€ç‚¹ï¼Œå­¦ä¼šä¸€ç‚¹ï¼Œå…¶å®ç„¶å¹¶åµã€‚ æœ¬ç¯‡å®Œ æœ‰ç‚¹æ™šäº†ï¼Œéœ€è¦ç¡è§‰äº†ï¼Œæƒ³èµ·æ¥å†è¯´ã€‚","tags":[],"categories":[{"name":"æ–‡ç¬”éšè®°","slug":"æ–‡ç¬”éšè®°","permalink":"http://finsos.github.io/categories/æ–‡ç¬”éšè®°/"},{"name":"å¿ƒæƒ…","slug":"æ–‡ç¬”éšè®°/å¿ƒæƒ…","permalink":"http://finsos.github.io/categories/æ–‡ç¬”éšè®°/å¿ƒæƒ…/"}]}]}